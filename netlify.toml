#############################
# 1)  Serve verification files as pure JSON
#############################
[[headers]]
  for = "/.well-known/apple-app-site-association"
  [headers.values]
    Content-Type = "application/json"

[[headers]]
  for = "/.well-known/assetlinks.json"
  [headers.values]
    Content-Type = "application/json"


#############################
# 2)  Bypass the SPA rewrite for .well-known/*
#############################
# Anything under /.well-known/ should be served as-is
[[redirects]]
  from = "/.well-known/*"
  to   = "/.well-known/:splat"
  status = 200

#############################
# 3)  SPA fallback (unchanged)
#############################
[[redirects]]
  from = "/*"
  to   = "/index.html"
  status = 200
